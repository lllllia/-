<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- page title -->
  <title>Stetho - Hotel Multipage Clean Bootstrap HTML5 Website Template</title>
  <!-- favicon -->
  <link rel="icon" href="favicon.ico" />
  <!-- bootstrap core CSS -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <!-- font awesome -->
  <link href="css/all.min.css" rel="stylesheet">
  <!-- owl carousel -->
  <link href="css/owl.carousel.min.css" rel="stylesheet">
  <link href="css/owl.theme.default.min.css" rel="stylesheet">
  <!-- venobox css -->
  <link rel="stylesheet" href="css/venobox.css">
  <!-- datepicker css -->
  <link rel="stylesheet" href="css/datepicker.min.css">
  <!-- custom styles for this template -->
  <link href="css/custom.css" rel="stylesheet">
  <link href="css/responsive.css" rel="stylesheet">
  <link href="css/helper.css" rel="stylesheet">
</head>

<body>
<!-- ================ Preloader ================ -->
<div id="preloader">
  <div class="spinner-grow" role="status"> <span class="sr-only">Loading...</span> </div>
</div>
<!-- ================ Preloader end ================ -->

<!-- ================ Header ================ -->
<header class="header">
  <!-- header upper -->
  <div class="header-upper-bar">
    <div class="container">
      <div class="row d-flex align-items-center">
        <div class="col-lg-8 col-md-6 col-sm-4 col-2">
          <!-- header navigation -->
          <nav class="navbar header-navigation navbar-expand-lg p-0">
            <!-- mobile Toggle -->
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTheme" aria-controls="navbarTheme" aria-expanded="false" aria-label="Toggle navigation"> <span></span> <span></span> <span></span> </button>
            <!-- mobile toggle end -->
            <!-- top Menu -->
            <div class="collapse navbar-collapse" id="navbarTheme">
              <ul class="navbar-nav align-items-start align-items-lg-center">
                <li class="active"><a class="nav-link" href="index.html">首页</a></li>
                <li><a class="nav-link" href="listing.html">预订</a></li>
                <li><a class="nav-link" href="contact-us.html">评价</a></li>
              </ul>
            </div>
            <!-- top menu end -->
          </nav>
          <!-- header navigation end -->
        </div>
        <div class="col-lg-4 col-md-6 col-sm-8 col-10 text-right">
          <!-- header right link -->
          <div class="header-right-link">
            <ul>
              <li><a class="nav-link" href="./admin/html/peronlist.html">个人订单</a></li>
              <li><a href="./admin/login.html"  class="header-request">转到后台</a></li>
            </ul>
          </div>
          <!-- header right link end -->
        </div>
      </div>
    </div>
  </div>
  <!-- header upper end -->
  <!-- header lover -->
  <div class="header-lover">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-3 col-md-12">
          <!-- brand -->
          <div class="logo"><a class="navbar-brand p-0" href="index.html"><img src="img/logo.png" alt=""></a></div>
          <!-- brand end -->
        </div>
        <div class="col-lg-9 col-md-12">
          <!-- header call us -->
          <div class="header-call-us">
            <ul>
              <li>
                <div class="iocn-holder"><i class="far fa-clock"></i></div>
                <div class="text-holder">
                  <h6>工作时间</h6>
                  <p class="mb-0">周一-----周天: 9.00am to 12.00pm</p>
                </div>
              </li>
              <li>
                <div class="iocn-holder"><i class="fas fa-phone-volume"></i></div>
                <div class="text-holder">
                  <h6>联系我们</h6>
                  <p class="mb-0"><a href="tel:123456789">+021 123 4567</a></p>
                </div>
              </li>
              <li>
                <div class="iocn-holder"><i class="far fa-envelope"></i></div>
                <div class="text-holder">
                  <h6>地址</h6>
                  <p class="mb-0"><a href="mailto:info@exampal.com">西南交通大学犀浦校区</a></p>
                </div>
              </li>
            </ul>
          </div>
          <!-- header call us end -->
        </div>
      </div>
    </div>
  </div>
  <!-- header lover end -->
</header>
<!-- ================ Header end ================ -->

<!-- ================ Inner banner ================ -->
<div class="inner-banner inner-banner-bg pt-70 pb-40">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-8 col-md-8 mb-30">
        <!-- page-title -->
        <div class="page-title">
          <h1>用户个人信息</h1>
        </div>
        <!-- page-title end -->
      </div>
      <div class="col-lg-4 col-md-4 mb-30">
        <!-- breadcrumb -->
        <ol class="breadcrumb mb-0">
          <li class="breadcrumb-item"><a href="#">首页</a></li>
          <li class="breadcrumb-item active">个人信息</li>
        </ol>
        <!-- breadcrumb end -->
      </div>
    </div>
  </div>
</div>
<!-- ================ Inner banner end ================ -->

<!-- ================ Traveler Information page ================ -->
<div class="detail-page pt-70 pb-40">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-8 mb-30">
        <form class="form-style-1">
          <div class="row">
            <div class="col-lg-12">
              <div class="form-group">
                <label>姓名<span class="text-danger">*</span></label>
                <input type="text" id="guestname" class="form-control">
              </div>
            </div>

          </div>
          <div class="row">
            <div class="col-lg-6">
              <div class="form-group">
                <label>性别<span class="text-danger">*</span></label>
                <select id="gender" class="form-control">
                  <option value="0">- 选择 -</option>
                  <option value="Male">男</option>
                  <option value="Female">女</option>
                </select>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="form-group">
                <label>邮箱地址<span class="text-danger">*</span></label>
                <input type="text"  id="email" class="form-control">
              </div>
            </div>

          </div>
          <div class="row">
            <div class="col-lg-6">
              <div class="form-group">
                <label>电话号码<span class="text-danger">*</span></label>
                <input type="text" id="phone-number" class="form-control">
              </div>
            </div>
            <div class="col-lg-6">
              <div class="form-group">
                <label>出生日期<span class="text-danger">*</span></label>
                <input type="text" id="datepickerdob" class="form-control">
              </div>
            </div>
          </div>
          <button type="submit" class="btn-style-1" onclick="orderdata()" id="confirm-button">确认</button>
        </form>
      </div>
      <div class="col-lg-4 col-md-4">
        <aside>
          <!-- help us -->
          <div class="help-us mb-30">
            <h3>帮助</h3>
            <p>如果你有任何疑问请随时拨打酒店电话联系我们.</p>
            <a class="view-detail-btn" href=""><i class="fas fa-phone-alt"></i> 联系我们</a> </div>
          <!-- help us end -->
        </aside>
      </div>
    </div>
  </div>
</div>
<!-- ================ Traveler Information page end ================ -->

<!-- ================ Footer area ================ -->
<footer class="pt-50">
  <div class="footer-top">
    <div class="container">
      <div class="row">
        <div class="col-lg-3 col-md-3 col-sm-6 mb-30">
          <!-- title -->
          <div class="title mb-10">
            <h3>关于我们</h3>
          </div>
          <!-- title end -->
          <!-- text -->
          <div class="text">
            <p>Lorem ipsum dolor sit amet sectetur adipiscing elit amet consectetur scing elit amet consectetur adipiscing elit sed et eletum.</p>
            <p>Lorem ipsum dolor sit amet sectetur adipiscing elit amet consectetur scing elit amet.</p>
          </div>
          <!-- end text -->
          <!-- footer social -->
          <div class="footer-social"> <a href=""><i class="fab fa-facebook-square"></i></a> <a href=""><i class="fab fa-twitter-square"></i></a> <a href=""><i class="fab fa-linkedin"></i></a> <a href=""><i class="fab fa-pinterest-square"></i></a> <a href=""><i class="fab fa-google-plus-square"></i></a> </div>
          <!-- footer social end -->
        </div>
        <div class="col-lg-3 col-md-3 col-sm-6 mb-30">
          <!-- title -->
          <div class="title mb-10">
            <h3>导航</h3>
          </div>
          <!-- title end -->
          <!-- footer link -->
          <ul class="footer-link">
            <li><i class="fas fa-caret-right"></i> <a href="#">Home</a> </li>
            <li><i class="fas fa-caret-right"></i> <a href="#">About Us</a> </li>
            <li><i class="fas fa-caret-right"></i> <a href="#">Services</a> </li>
            <li><i class="fas fa-caret-right"></i> <a href="#">Projects</a> </li>
            <li><i class="fas fa-caret-right"></i> <a href="#">Blog</a> </li>
            <li><i class="fas fa-caret-right"></i> <a href="#">Faq</a> </li>
            <li><i class="fas fa-caret-right"></i> <a href="#">Contact</a> </li>
          </ul>
          <!-- footer link end -->
        </div>
        <div class="col-lg-3 col-md-3 col-sm-6 mb-30">
          <!-- title -->
          <div class="title mb-10">
            <h3>近期新闻</h3>
          </div>
          <!-- title end -->
          <!-- recent-posts -->
          <div class="footer-recent-post">
            <!-- footer recent post item -->
            <div class="footer-recent-post-item"> <a href="">
              <p>Lorem ipsum dolor sit amet sectetur adipiscing elit amet</p>
              <small><i class="far fa-calendar-alt pr-6"></i> 01 Oct 2020</small></a> </div>
            <!-- footer recent post item end -->
            <!-- footer recent post item -->
            <div class="footer-recent-post-item"> <a href="">
              <p>Lorem ipsum dolor sit amet sectetur adipiscing elit amet</p>
              <small><i class="far fa-calendar-alt pr-6"></i> 01 Oct 2020</small></a> </div>
            <!-- footer recent post item end -->
            <!-- footer recent post item -->
            <div class="footer-recent-post-item"> <a href="">
              <p>Lorem ipsum dolor sit amet sectetur adipiscing elit amet</p>
              <small><i class="far fa-calendar-alt pr-6"></i> 01 Oct 2020</small></a> </div>
            <!-- footer recent post item end -->
          </div>
          <!-- recent-posts end -->
        </div>
        <div class="col-lg-3 col-md-3 col-sm-6 mb-30">
          <!-- title -->
          <div class="title mb-10">
            <h3>通讯</h3>
          </div>
          <!-- title end -->
          <!-- footer newsletter text -->
          <div class="footer-newsletter-text">
            <p>Lorem ipsum dolor sit amet sectetur adipiscing elit amet consectetur scing elit sed et eletum.</p>
          </div>
          <!-- footer newsletter text end -->
          <!-- footer newsletter form -->
          <div class="footer-newsletter-form">
            <form>
              <input placeholder="Email Adress..." type="text" required>
              <button type="submit">Subscribe</button>
            </form>
          </div>
          <!-- footer newsletter form end -->
        </div>
      </div>
    </div>
  </div>
  <!-- footer copyright -->
  <div class="copyright text-center mt-20">Copyright &copy; 2021.Company name All rights reserved.</div>
  <!-- footer copyright end -->
</footer>
<!-- ================ Footer area end ================ -->

<!-- ================ Top scroll ================ -->
<a href="#" class="scroll-top">Top</a>
<!-- ================ Top scroll end ================ -->

<!-- js files -->
<script src="js/jquery-3.5.1.min.js"></script>
<script src="js/bootstrap.bundle.min.js"></script>
<!-- counter js -->
<script src="js/jquery-1.10.2.min.js"></script>
<script src="js/waypoints.min.js"></script>
<script src="js/jquery.counterup.min.js"></script>
<!-- venobox js -->
<script src="js/venobox.min.js"></script>
<!-- owl carousel -->
<script src="js/owl.carousel.min.js"></script>
<!-- portfolio js -->
<script src="js/jquery.mixitup.min.js"></script>
<!-- datepicker js -->
<script src="js/datepicker.min.js"></script>
<!-- script js -->
<script src="js/custom.js"></script>
<script>
  function orderdata() {
    // 获取表单数据
    var guestName = document.getElementById('guestname').value;
    //var roomId = document.getElementById('roomid').value;
    var gender = document.getElementById('gender').value;
    var email = document.getElementById('email').value;
    var phoneNumber = document.getElementById('phone-number').value;
    var birthDate = document.getElementById('datepickerdob').value;

// 获取当前页面的 URL 参数
    var urlParams = new URLSearchParams(window.location.search);
    var roomId = urlParams.get('room2');
    console.log('房间号：', roomId);


    // 创建包含表单数据的对象
    var formData = {
      guestName: guestName,
      roomId: roomId,
      gender: gender,
      email: email,
      phoneNumber: phoneNumber,
      birthDate: birthDate
    };

    // 发送POST请求到后端
    fetch('/save-order-data', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(formData)
    })
            .then(response => response.json())
            .then(data => {
              // 处理后端返回的响应数据
              console.log(data);
              // 在此处进行页面跳转或其他操作
              alert("预订成功！")
              window.location.href = "index.html";
            })
            .catch(error => {
              console.error('Error:', error);
            });
    fetch(`/your-backend-update-room-status-api-endpoint?roomNumber=${roomId}&status=已预订`, {
      method: 'PUT'
    })
            .then(response => {
              if (response.ok) {
                // 房间状态更新成功，刷新订单表格

              } else {
                // 处理请求失败的情况
                console.log('房间状态更新失败');
              }
            })
            .catch(error => {
              console.log('请求出错:', error);
            });
  }


  // 发送请求更新房间状态

</script>




</body>
</html>